(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b688bfc"],{"1dde":function(t,e,c){var n=c("d039"),r=c("b622"),a=c("2d00"),o=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],c=e.constructor={};return c[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,c){"use strict";var n=c("23e7"),r=c("b727").filter,a=c("1dde"),o=a("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},8418:function(t,e,c){"use strict";var n=c("a04b"),r=c("9bf2"),a=c("5c6c");t.exports=function(t,e,c){var o=n(e);o in t?r.f(t,o,a(0,c)):t[o]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),r=c("d039"),a=c("e8b5"),o=c("861d"),s=c("7b0b"),i=c("50c4"),l=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),h=c("2d00"),O=b("isConcatSpreadable"),j=9007199254740991,f="Maximum allowed index exceeded",p=h>=51||!r((function(){var t=[];return t[O]=!1,t.concat()[0]!==t})),g=u("concat"),v=function(t){if(!o(t))return!1;var e=t[O];return void 0!==e?!!e:a(t)},y=!p||!g;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,r,a,o=s(this),u=d(o,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],v(a)){if(r=i(a.length),b+r>j)throw TypeError(f);for(c=0;c<r;c++,b++)c in a&&l(u,b,a[c])}else{if(b>=j)throw TypeError(f);l(u,b++,a)}return u.length=b,u}})},b0c0:function(t,e,c){var n=c("83ab"),r=c("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,i="name";n&&!(i in a)&&r(a,i,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},f01f:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r={class:"container"},a=Object(n["h"])("div",{class:"my-5"},[Object(n["h"])("h1",{class:"text-center"},"訂單查詢")],-1),o={class:"accordion",id:"questions"},s=["id"],i=["data-bs-target","aria-controls"],l={class:"h4"},d=["id"],u={class:"accordion-body"},b={class:"my-5 row justify-content-center"},h=["onSubmit"],O={class:"table align-middle"},j=Object(n["h"])("thead",null,[Object(n["h"])("th",null,"品名"),Object(n["h"])("th",null,"數量"),Object(n["h"])("th",null,"單價")],-1),f={class:"text-end"},p=Object(n["h"])("td",{colspan:"2",class:"text-end"},"總計",-1),g={class:"text-end text-success"},v={class:"table"},y=Object(n["h"])("th",{width:"100"},"Email",-1),m=Object(n["h"])("th",null,"姓名",-1),x=Object(n["h"])("th",null,"收件人電話",-1),w=Object(n["h"])("th",null,"收件人地址",-1),K=Object(n["h"])("th",null,"付款狀態",-1),A={key:0},k={key:1,class:"text-success"},q={class:"text-end me-5 mt-5"},L={class:"btn btn-danger"};function S(t,e,c,S,$,_){return Object(n["A"])(),Object(n["g"])("div",r,[a,Object(n["h"])("div",o,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])($.orders,(function(e,c){return Object(n["A"])(),Object(n["g"])("div",{class:"accordion-item my-5",key:c},[Object(n["h"])("h4",{class:"accordion-header",id:"flush-qa".concat(c)},[Object(n["h"])("button",{class:"accordion-button collapsed",type:"button","aria-expanded":"false","data-bs-toggle":"collapse","data-bs-target":"#qa".concat(c),"aria-controls":"qa".concat(c)},[Object(n["h"])("span",l,"訂單-"+Object(n["K"])(e.create_at),1)],8,i)],8,s),Object(n["h"])("div",{id:"qa".concat(c),class:"accordion-collapse collapse px-3","aria-labelledby":"flush-headingOne","data-bs-parent":"#questions"},[Object(n["h"])("div",u,[Object(n["h"])("div",b,[Object(n["h"])("form",{class:"col-md-10",onSubmit:Object(n["V"])((function(t){return _.payOrder(e.id)}),["prevent"])},[Object(n["h"])("table",O,[j,Object(n["h"])("tbody",null,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(e.products,(function(e){return Object(n["A"])(),Object(n["g"])("tr",{key:e.id},[Object(n["h"])("td",null,Object(n["K"])(e.product.title),1),Object(n["h"])("td",null,Object(n["K"])(e.qty)+" / "+Object(n["K"])(e.product.unit),1),Object(n["h"])("td",f,Object(n["K"])(t.$filters.currency(e.final_total))+"元",1)])})),128))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[p,Object(n["h"])("td",g,Object(n["K"])(t.$filters.currency(e.total))+"元",1)])])]),Object(n["h"])("table",v,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[y,Object(n["h"])("td",null,Object(n["K"])(e.user.email),1)]),Object(n["h"])("tr",null,[m,Object(n["h"])("td",null,Object(n["K"])(e.user.name),1)]),Object(n["h"])("tr",null,[x,Object(n["h"])("td",null,Object(n["K"])(e.user.tel),1)]),Object(n["h"])("tr",null,[w,Object(n["h"])("td",null,Object(n["K"])(e.user.address),1)]),Object(n["h"])("tr",null,[K,Object(n["h"])("td",null,[e.is_paid?(Object(n["A"])(),Object(n["g"])("span",k,"付款完成")):(Object(n["A"])(),Object(n["g"])("span",A,"尚未付款"))])])])]),Object(n["h"])("div",q,[Object(n["U"])(Object(n["h"])("button",L,"付款去",512),[[n["Q"],!e.is_paid]])])],40,h)])])],8,d)])})),128))])])}c("4de4"),c("99af");var $={data:function(){return{orderlist:JSON.parse(localStorage.getItem("orderList"))||[],orders:[]}},methods:{getOrderList:function(){var t=this;this.orderlist.filter((function(e){return t.getOrder(e)}))},getOrder:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/order/").concat(t);this.isLoading=!0,this.$http.get(c).then((function(t){e.isLoading=!1,t.data.success&&(e.order=t.data.order,e.orders.push(e.order))}))},payOrder:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("yiru0220","/pay/").concat(t);this.isLoading=!0,this.$http.post(c).then((function(t){e.isLoading=!1,console.log(t)}))}},created:function(){this.getOrderList()}};$.render=S;e["default"]=$}}]);
//# sourceMappingURL=chunk-2b688bfc.f43a243b.js.map